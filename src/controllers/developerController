const batchModel = require("../models/batchModel")
const developerModel= require("../models/developerModel")

const createDeveloper= async function (req, res) {
    let book = req.body
    let bookCreated = await developerModel.create(book)
    res.send({data: bookCreated})      
}

const getDeveloperData= async function (req, res) {
    let developers = await developerModel.find({gender:"female", percentage:{$gte:79}})
    res.send({data: developers})
}

const getDeveloperWithBatchDetails= async function (req, res) {
    let batch=req.query.program

    let batchcreated=await batchModel.findOne({name:batch}).select({_id:1})
    let devlop=req.query.percentage
    let getDeveloperData=await developerModel.find({batch_id: batchcreated,percentage:{$gte:devlop}})
     res.send({data:getDeveloperData})

}

module.exports.createDeveloper= createDeveloper
module.exports.getDeveloperData= getDeveloperData
module.exports.getDeveloperWithBatchDetails= getDeveloperWithBatchDetails